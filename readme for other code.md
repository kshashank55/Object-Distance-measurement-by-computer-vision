üìè YOLO Object Detection & Distance MeasurementThis project performs real-time object detection using YOLO (You Only Look Once) and estimates the distance of objects from the camera using the Pinhole Camera Model (Triangle Similarity).üöÄ FeaturesReal-time Detection: Uses the lightweight yolov10n (nano) model for high FPS on standard CPUs.Distance Estimation: Calculates distance in centimeters based on the object's pixel width and known real-world size.Customizable: Easily add new objects and dimensions to the KNOWN_WIDTH dictionary.Live Feed: Processes webcam input with bounding boxes, labels, and an FPS counter.üõ†Ô∏è PrerequisitesYou need Python 3.8+ and the following libraries:Bashpip install opencv-python numpy ultralytics torch
Note: The script attempts to load ./yolov10n.pt. If the library doesn't auto-download it, you may need to download the weights manually or switch to yolov8n.pt.üìê How it Works (The Math)The distance is calculated using the concept of Triangle Similarity.The formula used is:$$Distance = \frac{\text{Known Width} \times \text{Focal Length}}{\text{Apparent Width (pixels)}}$$Known Width: The real-world width of the object (e.g., a laptop is ~35 cm).Apparent Width: The width of the object's bounding box in the camera frame (measured in pixels).Focal Length: A constant specific to your camera (derived from calibration).‚öôÔ∏è Configuration & Calibration1. Object WidthsThe code uses a dictionary to map class names to their average real-world widths (in cm). You can modify this in the __init__ method:Pythonself.KNOWN_WIDTH = {
    'person': 60,   # cm (average shoulder width)
    'car': 180,     # cm
    'bottle': 8,    # cm
    'laptop': 35    # cm
}
2. Calibrating Focal Length (Crucial Step)The default self.focal_length = 1000 is a placeholder. For accurate results, you must calibrate it for your specific webcam:Place a known object (e.g., a book with width 20cm) at a known distance (e.g., 100cm) from the camera.Run the YOLO detector and note the pixel width of the bounding box (e.g., 150 pixels).Calculate your focal length:$$F = \frac{150 \text{ px} \times 100 \text{ cm}}{20 \text{ cm}} = 750$$Update line 14 in your code: self.focal_length = 750.üèÉ‚Äç‚ôÇÔ∏è How to RunConnect your webcam.Check the video_source at the bottom of the script:video_source=0: Default internal webcam.video_source=1: External USB webcam.Run the script:Bashpython main.py
Press 'q' to exit the program.‚ö†Ô∏è LimitationsOrientation: The math assumes the object is facing the camera. If a car is sideways, the "width" changes, which throws off the distance calculation.Variable Sizes: Not all "persons" or "cars" are the same size. The distance is an estimation based on averages.
